# 1_运动规划简介

本章节介绍运动规划的基本概念，顺带简单介绍本书各个章节涵盖的内容。


## 什么是规划

规划是指在确定目标和约束条件的基础上，制定一系列有序的行动方案和措施来达成目标的过程。在不同的领域乃至日常生活中，规划都扮演着重要的角色。

通常而言，一个规划问题，都有以下几个通用的元素：

* 初始状态，或当前状态。这是规划问题的起点，我们从这里出发。对于旅游问题，即是当前所处的城市；对于一盘棋局，即是初始的棋盘状态。
* 目标状态。这是我们希望最终到达的状态。这里的状态可以是一个相对复杂的概念，可以是一个具体的位置，或者一个范围、区域，在更复杂的情境中也可以是获得棋局的胜利等。
* 行动。行动即是从初始状态到目标状态的过程中要执行的一系列操作，它帮助我们从一个状态转换到另一个状态（例如乘车从一个城市到达另一个城市，或者通过走一步棋改变棋局的状态等）。

在机器人学中，一个基本的需求是设计一套算法，将高阶、抽象的任务转换成底层的机械控制。例如我们想要用一台六轴工业机器人将一个零件从一个位置移动到另一个位置，那么每个时刻机器人的每一个关节该如何转动；或者一辆自动驾驶汽车将乘客从A点运送到B点，该选择怎样的路线、又该进行怎样的油门和方向盘控制等。

根据机器人的初始状态、目标状态、运动模型和环境信息等参数，计算出一条合适的路径或轨迹来实现特定的任务，这样的问题便是机器人学中的运动规划问题。

## 章节内容介绍

本书主要分为四大模块：

### 运动规划的基础知识

运动规划作为一个实实在在的、现实世界中的问题，可以通过自然语言模糊地表达：“把箱子从桌子上移动到地上”、“驾驶汽车载客从起点到终点，遵守交规、避免事故”，但是如果我们希望通过严谨的方法、使用计算机来解决运动规划的问题，最好还是使用更加严谨的数学语言来表达具体的运动规划问题。

第三章介绍二维、三维世界的数学表达——我们如何使用坐标、坐标系来表示某个物体在空间中的位置，又如何使用旋转角表示物体的朝向；如果将常见物体抽象成圆、球或者矩形、长方体，需要用怎样的方式来表达它们；更一般的情况，对于形状复杂的不规则物体，又如何用数学语言来表达。

第四章介绍一个机器人运动规划中非常重要的任务——碰撞检测。其实有一个更广泛的名字叫计算几何学，它涵盖了碰撞检测、位置关系判断、距离计算等，而其背后的基本原理都是相似的。这一章节在第三章的基础上，介绍在使用数学模型表达物体的基础上，如何判断各个物体之间的位置关系；而这些判断位置关系的方法将会用在后面的章节中，用来在规划路径的过程中规避障碍物、“趋利避害”。

第五章介绍运动学模型。与第三章节试图使用数学的语言描述物体、环境信息相对应地，我们也希望可以通过严谨的数学语言描述索要研究或操作的机器人，例如对于六轴工业机器人，需要什么样的参数可以描述其运动状态与轨迹；对于扫地机器人、自动驾驶汽车，我们对马达或者油门刹车方向盘的控制又将如何影响其运动。

### 基于搜索的规划算法

第六第七章将介绍运动规划问题的一种数学模型。

许多规划任务可以抽象成图搜索——这里的图是计算机学的概念，由抽象的节点和连接节点的边构成。第七章会介绍，对于机器人在连续空间中的运动规划问题，我们可以采用怎样的方法建立这样一张图，从而近似表达这一问题。

第六章介绍在一张给定的图的基础上，我们如何使用搜索算法寻找从初始状态（初始节点）到目标状态（目标节点）的最优路径。

### 基于优化的规划算法

解决运动规划问题的另一个流派是数值优化。

第八章会简单介绍数值优化的概念，顺带介绍两种数值优化的基本方法。这一章节介绍的内容并不局限于运动规划——对于任何可以通过目标函数评价好坏、通过一个高维数组表示自变量的问题，我们都可以通过数值优化的方法来求解。

第九章会补充一点高维函数和矩阵的相关知识，它是对初高中数学介绍的二次函数、导数等内容的扩充，会在第十章大量用到。

第十章会介绍著名的LQR（线性二次型调节器），一种对于特定的数值优化问题特别好用的算法，并且会在基本版的LQR基础上进行一些拓展，让其可以用于十分复杂的实际问题。

为了解决运动规划问题，除了有强大的求解器，我们更需要明白该怎样使用数学的语言描述规划问题（即，设计目标函数）。第十一章会提到几种自动驾驶行业经常会用到的几类目标函数的表达形式。

### 机器学习浅谈

第十二章介绍监督式学习，以及自动驾驶行业曾经尝试过的一些机器学习模型。

第十三章介绍强化学习，一种可以让智能体在环境中自由探索、逐渐学会更好的行动策略的机器学习算法。

最后，第十四章作为全书的总结，简单说说作为一个复杂的工程问题，一个机器人的运动规划系统通常有哪些组成部分，这些组成部分之间又是如何相互配合的。